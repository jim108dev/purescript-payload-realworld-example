// Generated by purs version 0.13.8
"use strict";
var Control_Applicative = require("../Control.Applicative/index.js");
var Control_Bind = require("../Control.Bind/index.js");
var Control_Monad_Error_Class = require("../Control.Monad.Error.Class/index.js");
var Control_Monad_Free = require("../Control.Monad.Free/index.js");
var Data_Array = require("../Data.Array/index.js");
var Data_Either = require("../Data.Either/index.js");
var Data_Eq = require("../Data.Eq/index.js");
var Data_Foldable = require("../Data.Foldable/index.js");
var Data_Functor = require("../Data.Functor/index.js");
var Data_List_Types = require("../Data.List.Types/index.js");
var Data_Maybe = require("../Data.Maybe/index.js");
var Data_Monoid = require("../Data.Monoid/index.js");
var Data_Show = require("../Data.Show/index.js");
var Data_Symbol = require("../Data.Symbol/index.js");
var Data_Traversable = require("../Data.Traversable/index.js");
var Data_Tuple = require("../Data.Tuple/index.js");
var Effect_Aff = require("../Effect.Aff/index.js");
var Effect_Class = require("../Effect.Class/index.js");
var Effect_Exception = require("../Effect.Exception/index.js");
var Foreign = require("../Foreign/index.js");
var Node_Encoding = require("../Node.Encoding/index.js");
var Node_FS_Aff = require("../Node.FS.Aff/index.js");
var Node_Path = require("../Node.Path/index.js");
var Payload_Headers = require("../Payload.Headers/index.js");
var Payload_Internal_UrlParsing = require("../Payload.Internal.UrlParsing/index.js");
var Payload_Server_Guards = require("../Payload.Server.Guards/index.js");
var Payload_Server_Handleable = require("../Payload.Server.Handleable/index.js");
var Payload_Server_Internal_OmitEmpty = require("../Payload.Server.Internal.OmitEmpty/index.js");
var Payload_Server_Internal_Query = require("../Payload.Server.Internal.Query/index.js");
var Payload_Server_Internal_Url = require("../Payload.Server.Internal.Url/index.js");
var Payload_Server_Params = require("../Payload.Server.Params/index.js");
var Payload_Server_QueryParams = require("../Payload.Server.QueryParams/index.js");
var Payload_Server_Response = require("../Payload.Server.Response/index.js");
var Payload_Server_Routable = require("../Payload.Server.Routable/index.js");
var Server_Article_Api_Type_CreateDto = require("../Server.Article.Api.Type.CreateDto/index.js");
var Server_Article_Api_Type_UpdateDto = require("../Server.Article.Api.Type.UpdateDto/index.js");
var Server_Comment_Api_Type_CreateDto = require("../Server.Comment.Api.Type.CreateDto/index.js");
var Server_Shell_Api_Interface_Spec = require("../Server.Shell.Api.Interface.Spec/index.js");
var Server_Shell_Api_Main = require("../Server.Shell.Api.Main/index.js");
var Server_Shell_Util_Aggregate = require("../Server.Shell.Util.Aggregate/index.js");
var Server_Shell_Util_Config = require("../Server.Shell.Util.Config/index.js");
var Server_User_Api_Type_CreateDto = require("../Server.User.Api.Type.CreateDto/index.js");
var Server_User_Api_Type_LoginDto = require("../Server.User.Api.Type.LoginDto/index.js");
var Server_User_Api_Type_UpdateDto = require("../Server.User.Api.Type.UpdateDto/index.js");
var Shared_Type_LongString = require("../Shared.Type.LongString/index.js");
var Shared_Type_LowercaseString = require("../Shared.Type.LowercaseString/index.js");
var Shared_Type_ShortString = require("../Shared.Type.ShortString/index.js");
var Shared_Util_String = require("../Shared.Util.String/index.js");
var Simple_JSON = require("../Simple.JSON/index.js");
var Test_Server_Shell_Persistence_Postgres = require("../Test.Server.Shell.Persistence.Postgres/index.js");
var Test_Server_Shell_Util_Payload = require("../Test.Server.Shell.Util.Payload/index.js");
var Test_Unit = require("../Test.Unit/index.js");
var Test_Unit_Assert = require("../Test.Unit.Assert/index.js");
var Test_Unit_Main = require("../Test.Unit.Main/index.js");
var Test_Unit_Output_Fancy = require("../Test.Unit.Output.Fancy/index.js");
var Timestamp = require("../Timestamp/index.js");
var Type_Equality = require("../Type.Equality/index.js");
var runTestCase = function (h) {
    return function (t) {
        var method = (function () {
            if (t.request.method === "get") {
                return h.get;
            };
            if (t.request.method === "post") {
                return h.post;
            };
            if (t.request.method === "put") {
                return h.put;
            };
            if (t.request.method === "delete") {
                return h["delete"];
            };
            return function (v) {
                return function (v1) {
                    return function (v2) {
                        return Control_Monad_Error_Class.throwError(Effect_Aff.monadThrowAff)(Effect_Exception.error(Shared_Util_String.format1("method {1} not found.")(t.request.method)));
                    };
                };
            };
        })();
        var matches = (function () {
            if (t.response.body instanceof Data_Maybe.Nothing) {
                return function (status) {
                    return function (v) {
                        return function (actual) {
                            return Test_Unit_Assert.equal(Data_Eq.eqInt)(Data_Show.showInt)(status)(actual.status);
                        };
                    };
                };
            };
            if (t.response.body instanceof Data_Maybe.Just) {
                return function (status) {
                    return function (v) {
                        return Test_Server_Shell_Util_Payload.respMatchesJson({
                            status: status,
                            body: t.response.body.value0
                        });
                    };
                };
            };
            throw new Error("Failed pattern match at Test.Server.Shell.Main (line 132, column 13 - line 134, column 67): " + [ t.response.body.constructor.name ]);
        })();
        var description = Data_Foldable.intercalate(Data_Foldable.foldableArray)(Data_Monoid.monoidString)(" ")([ t.domain, t.request.method, t.request.path, Data_Show.show(Data_Show.showInt)(t.response.status), Data_Maybe.fromMaybe("")(t.description), Data_Maybe.fromMaybe("")(t.response.bodyFilename) ]);
        return Test_Unit.test(description)(h.withApi(Control_Bind.bind(Effect_Aff.bindAff)(method(t.request.path)(t.request.body)(t.request.token))(function (aResponse) {
            return matches(t.response.status)(t.response.body)(aResponse);
        })));
    };
};
var readBody = function (path) {
    return function (domain) {
        return function (bodyFilename) {
            return Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value)(Node_Path.concat([ path, domain, bodyFilename + ".json" ]));
        };
    };
};
var read = (function () {
    var parse = function (s) {
        var v = Simple_JSON.readJSON(Simple_JSON.readArray(Simple_JSON.readRecord()(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "description";
        }))(Simple_JSON.readMaybe(Simple_JSON.readString))(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "domain";
        }))(Simple_JSON.readString)(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "request";
        }))(Simple_JSON.readRecord()(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "bodyFilename";
        }))(Simple_JSON.readMaybe(Simple_JSON.readString))(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "method";
        }))(Simple_JSON.readString)(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "path";
        }))(Simple_JSON.readString)(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "token";
        }))(Simple_JSON.readMaybe(Simple_JSON.readString))(Simple_JSON.readFieldsNil)()())()())()())()()))(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "response";
        }))(Simple_JSON.readRecord()(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "bodyFilename";
        }))(Simple_JSON.readMaybe(Simple_JSON.readString))(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "status";
        }))(Simple_JSON.readInt)(Simple_JSON.readFieldsNil)()())()()))(Simple_JSON.readFieldsCons(new Data_Symbol.IsSymbol(function () {
            return "x";
        }))(Simple_JSON.readMaybe(Simple_JSON.readBoolean))(Simple_JSON.readFieldsNil)()())()())()())()())()())))(s);
        if (v instanceof Data_Either.Left) {
            return Data_Either.Left.create(Data_Foldable.intercalate(Data_List_Types.foldableNonEmptyList)(Data_Monoid.monoidString)(".\x0a")(Data_Functor.map(Data_List_Types.functorNonEmptyList)(Foreign.renderForeignError)(v.value0)));
        };
        if (v instanceof Data_Either.Right) {
            return Control_Applicative.pure(Data_Either.applicativeEither)(v.value0);
        };
        throw new Error("Failed pattern match at Test.Server.Shell.Main (line 44, column 13 - line 46, column 22): " + [ v.constructor.name ]);
    };
    var $19 = Data_Functor.map(Effect_Aff.functorAff)(parse);
    var $20 = Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value);
    return function ($21) {
        return $19($20($21));
    };
})();
var readOrThrow = function (path) {
    return Control_Bind.bind(Effect_Aff.bindAff)(read(path))(function (v) {
        if (v instanceof Data_Either.Left) {
            return Effect_Class.liftEffect(Effect_Aff.monadEffectAff)(Effect_Exception["throw"](v.value0));
        };
        if (v instanceof Data_Either.Right) {
            return Control_Applicative.pure(Effect_Aff.applicativeAff)(v.value0);
        };
        throw new Error("Failed pattern match at Test.Server.Shell.Main (line 51, column 9 - line 53, column 26): " + [ v.constructor.name ]);
    });
};
var mkTestCase = function (path) {
    return function (r) {
        var responseBodyFilename = Data_Functor.map(Data_Maybe.functorMaybe)(function (id) {
            return Node_Path.concat([ path, r.domain, id ]);
        })(r.response.bodyFilename);
        var requestBodyFilename = Data_Functor.map(Data_Maybe.functorMaybe)(function (id) {
            return Node_Path.concat([ path, r.domain, id ]);
        })(r.request.bodyFilename);
        return Control_Bind.bind(Effect_Aff.bindAff)(Data_Traversable.traverse(Data_Traversable.traversableMaybe)(Effect_Aff.applicativeAff)(Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value))(requestBodyFilename))(function (requestBody) {
            return Control_Bind.bind(Effect_Aff.bindAff)(Data_Traversable.traverse(Data_Traversable.traversableMaybe)(Effect_Aff.applicativeAff)(Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value))(responseBodyFilename))(function (responseBody) {
                return Control_Applicative.pure(Effect_Aff.applicativeAff)({
                    description: r.description,
                    domain: r.domain,
                    request: {
                        body: requestBody,
                        bodyFilename: requestBodyFilename,
                        method: r.request.method,
                        path: r.request.path,
                        token: r.request.token
                    },
                    response: {
                        body: responseBody,
                        bodyFilename: responseBodyFilename,
                        status: r.response.status
                    }
                });
            });
        });
    };
};
var mkHandle = function (withApi) {
    return function (config) {
        var toHeader = function (token) {
            if (token instanceof Data_Maybe.Nothing) {
                return Payload_Headers.empty;
            };
            if (token instanceof Data_Maybe.Just) {
                return Payload_Headers.fromFoldable(Data_Foldable.foldableArray)([ new Data_Tuple.Tuple("Authorization", token.value0) ]);
            };
            throw new Error("Failed pattern match at Test.Server.Shell.Main (line 153, column 20 - line 155, column 57): " + [ token.constructor.name ]);
        };
        var host = Shared_Util_String.format2("http://{1}:{2}")(config.server.hostname)(Data_Show.show(Data_Show.showInt)(config.server.port));
        return {
            withApi: withApi,
            get: function (path) {
                return function (v) {
                    return function (token) {
                        return Test_Server_Shell_Util_Payload.get_(host)(path)(toHeader(token));
                    };
                };
            },
            post: function (path) {
                return function (body) {
                    return function (token) {
                        return Test_Server_Shell_Util_Payload.post_(host)(path)(toHeader(token))(body);
                    };
                };
            },
            put: function (path) {
                return function (body) {
                    return function (token) {
                        return Test_Server_Shell_Util_Payload.put_(host)(path)(toHeader(token))(body);
                    };
                };
            },
            "delete": function (path) {
                return function (body) {
                    return function (token) {
                        return Test_Server_Shell_Util_Payload.delete_(host)(path)(toHeader(token))(body);
                    };
                };
            }
        };
    };
};
var fakeAuthOrigin = function (req) {
    return Control_Applicative.pure(Effect_Aff.applicativeAff)(new Data_Either.Right("http://example.com"));
};
var main = Effect_Aff.launchAff_(Control_Bind.bind(Effect_Aff.bindAff)(Server_Shell_Util_Config.readOrThrow("./config/Server/Dev.json"))(function (config) {
    return Control_Bind.bind(Effect_Aff.bindAff)(readOrThrow("./test/Server/Shell/TestCases.json"))(function (rs) {
        return Control_Bind.bind(Effect_Aff.bindAff)(Control_Applicative.pure(Effect_Aff.applicativeAff)(Data_Array.filter(function (r) {
            return Data_Eq.eq(Data_Maybe.eqMaybe(Data_Eq.eqBoolean))(r.x)(Data_Maybe.Nothing.value) || Data_Eq.eq(Data_Maybe.eqMaybe(Data_Eq.eqBoolean))(r.x)(new Data_Maybe.Just(false));
        })(rs)))(function (activeRs) {
            return Control_Bind.bind(Effect_Aff.bindAff)(Data_Traversable.traverse(Data_Traversable.traversableArray)(Effect_Aff.applicativeAff)(mkTestCase("./test/Server"))(activeRs))(function (ts) {
                return Control_Bind.bind(Effect_Aff.bindAff)(Effect_Class.liftEffect(Effect_Aff.monadEffectAff)(Server_Shell_Util_Aggregate.mkHandle(config)))(function (h1) {
                    return Control_Bind.bind(Effect_Aff.bindAff)(Test_Server_Shell_Persistence_Postgres.readSqlStatements("./sql/ResetTables.sql"))(function (sqlStatements) {
                        return Control_Bind.discard(Control_Bind.discardUnit)(Effect_Aff.bindAff)(Test_Server_Shell_Persistence_Postgres.resetDB(h1.persistence.pool)(sqlStatements))(function () {
                            return Control_Bind.discard(Control_Bind.discardUnit)(Effect_Aff.bindAff)(Test_Unit_Main.runTestWith(Test_Unit_Output_Fancy.runTest)((function () {
                                var apiImpl = Server_Shell_Api_Main.mkHandle(h1);
                                var apiMock = {
                                    handlers: apiImpl.handlers,
                                    guards: {
                                        userId: apiImpl.guards.userId,
                                        maybeUserId: apiImpl.guards.maybeUserId,
                                        origin: fakeAuthOrigin
                                    }
                                };
                                var withApi = Test_Server_Shell_Util_Payload.withServer(Payload_Server_Routable.routableRootRecord()()(Type_Equality.refl)()(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "create";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_Article_Api_Type_CreateDto.decodeBodyCreateDto(Server_Article_Api_Type_CreateDto.readForeignCreateDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "delete";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "DELETE";
                                }))()()(Payload_Server_Handleable.handleableDeleteRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseEmpty)()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>/favorite";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>/favorite";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "feed";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/feed?limit=<limit>&offset=<offset>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/feed?limit=<limit>&offset=<offset>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Simple_JSON.writeForeignArray(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "articlesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.nilWriteForeignFields)()()())()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "feed";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "limit";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "limit";
                                }))(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "offset";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "offset";
                                }))(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Payload_Server_QueryParams.decodeQueryParamInt)))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Payload_Server_QueryParams.decodeQueryParamInt))))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "feed";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "get";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "maybeUserId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "getTags";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/tags";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/tags";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tags";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.nilWriteForeignFields)()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "tags";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "tags";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil)))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "list";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles?tag=<tag>&author=<author>&favorited=<favorited>&limit=<limit>&offset=<offset>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles?tag=<tag>&author=<author>&favorited=<favorited>&limit=<limit>&offset=<offset>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Simple_JSON.writeForeignArray(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "articlesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.nilWriteForeignFields)()()())()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "tag";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "tag";
                                }))(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "limit";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "limit";
                                }))(Payload_Server_Internal_Query.matchQueryConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "offset";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "offset";
                                }))(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Payload_Server_QueryParams.decodeQueryParamInt)))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Payload_Server_QueryParams.decodeQueryParamInt)))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Shared_Type_ShortString.decodeQueryParamString)))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Shared_Type_ShortString.decodeQueryParamString)))()()()(Payload_Server_QueryParams.decodeQueryParamMaybe(Shared_Type_LowercaseString.decodeQueryParamString))))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "maybeUserId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "unfavorite";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>/favorite";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "DELETE";
                                }))()()(Payload_Server_Handleable.handleableDeleteRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>/favorite";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "update";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "PUT";
                                }))()()(Payload_Server_Handleable.handleablePutRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/articles/<slug>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "article";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "description";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favorited";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "favoritesCount";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Shared_Type_LowercaseString.writeForeignLowercaseString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "tagList";
                                }))(Simple_JSON.writeForeignArray(Shared_Type_LowercaseString.writeForeignLowercaseString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "title";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_Article_Api_Type_UpdateDto.decodeBodyUpdateDto(Server_Article_Api_Type_UpdateDto.readForeignUpdateDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListNil)()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "tags";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "feed";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "favorite";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "comment";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api/articles";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "create";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "comment";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "id";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_Comment_Api_Type_CreateDto.decodeBodyCreateDto(Server_Comment_Api_Type_CreateDto.readForeignCreateDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "delete";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments/<id>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "DELETE";
                                }))()()(Payload_Server_Handleable.handleableDeleteRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments/<id>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseEmpty)()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "id";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Payload_Server_Params.decodeParamInt)))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "id";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "get";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/<slug>/comments";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Simple_JSON.writeForeignArray(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "author";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignMaybe(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignMaybe(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Shared_Type_LongString.writeForeignLongString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "createdAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "id";
                                }))(Simple_JSON.writeForeignInt)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "updatedAt";
                                }))(Timestamp.writeTimestamp)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()())))(Simple_JSON.nilWriteForeignFields)()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_LowercaseString.decodeParamLowercaseString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "maybeUserId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListNil)()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "id";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "articles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "slug";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "comments";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "profile";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api/profiles";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "byUsername";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api/profiles";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/<username>";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Shared_Type_ShortString.decodeParamShortString)))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/follow";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/follow";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "profile";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_ShortString.decodeParamShortString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "get";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "profile";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))()()()(Shared_Type_ShortString.decodeParamShortString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "maybeUserId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "unfollow";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/follow";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "DELETE";
                                }))()()(Payload_Server_Handleable.handleableDeleteRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/follow";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "profile";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "following";
                                }))(Simple_JSON.writeForeignBoolean)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Server_Internal_Url.matchUrlConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))()()()(Shared_Type_ShortString.decodeParamShortString)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListNil)()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "profiles";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsKey(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "follow";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))))(Payload_Server_Routable.routableListNil))(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "shared";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "options";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/<..wildcard>";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "OPTIONS";
                                }))()()(Payload_Server_Handleable.handleableOptionsRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/<..wildcard>";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseEmpty)()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlMulti(new Data_Symbol.IsSymbol(function () {
                                    return "wildcard";
                                }))()()(Payload_Server_Params.decodeSegmentsListString))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsMulti(new Data_Symbol.IsSymbol(function () {
                                    return "wildcard";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil)))(Payload_Server_Routable.routableListNil)()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsMulti(new Data_Symbol.IsSymbol(function () {
                                    return "wildcard";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Payload_Server_Routable.routableListConsRoutes(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/api";
                                }))(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))))()()(Type_Equality.refl)()()()()()(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "create";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/users";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/users";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "email";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "token";
                                }))(Simple_JSON.writeForeignString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_User_Api_Type_CreateDto.decodeBodyCreateDto(Server_User_Api_Type_CreateDto.readForeignCreateDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil)))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "delete";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "DELETE";
                                }))()()(Payload_Server_Handleable.handleableDeleteRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "email";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "token";
                                }))(Simple_JSON.writeForeignString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.decodeOptionalBodyUndefined)()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsUndefined()()(new Data_Symbol.IsSymbol(function () {
                                    return "body";
                                }))(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "getCurrent";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "GET";
                                }))()()(Payload_Server_Handleable.handleableGetRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "email";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "token";
                                }))(Simple_JSON.writeForeignString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil)))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "login";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/users/login";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "POST";
                                }))()()(Payload_Server_Handleable.handleablePostRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/users/login";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "email";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "token";
                                }))(Simple_JSON.writeForeignString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_User_Api_Type_LoginDto.decodeBodyLoginDto(Server_User_Api_Type_LoginDto.readForeignLoginDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "login";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl))))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "login";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil)))(Payload_Server_Routable.routableListCons(new Data_Symbol.IsSymbol(function () {
                                    return "update";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))(new Data_Symbol.IsSymbol(function () {
                                    return "PUT";
                                }))()()(Payload_Server_Handleable.handleablePutRoute(Type_Equality.refl)(new Data_Symbol.IsSymbol(function () {
                                    return "/user";
                                }))()(Payload_Server_Response.toSpecResponseEitherResponseResponse(Payload_Server_Response.encodeResponseString))(Payload_Server_Response.encodeResponseRecord(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Simple_JSON.recordWriteForeign()(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "bio";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "email";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "image";
                                }))(Simple_JSON.writeForeignNullable(Shared_Type_LongString.writeForeignLongString))(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "token";
                                }))(Simple_JSON.writeForeignString)(Simple_JSON.consWriteForeignFields(new Data_Symbol.IsSymbol(function () {
                                    return "username";
                                }))(Shared_Type_ShortString.writeForeignShortString)(Simple_JSON.nilWriteForeignFields)()()())()()())()()())()()())()()()))(Simple_JSON.nilWriteForeignFields)()()())))()(Payload_Server_Handleable.encodeOptionalBodyDefined(Server_User_Api_Type_UpdateDto.decodeBodyUpdateDto(Server_User_Api_Type_UpdateDto.readForeignUpdateDto)))()(Payload_Server_Internal_Url.decodeUrlSymbol()(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Server_Internal_Url.matchUrlConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Server_Internal_Url.matchUrlUrlNil(Type_Equality.refl)))))(Payload_Server_Internal_Query.decodeQueryAny()(Payload_Server_Internal_Query.matchQueryNil(Type_Equality.refl)))()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))(Type_Equality.refl)(Payload_Server_Internal_OmitEmpty.omitEmptyAny()(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsOther(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNotEmptyOther)(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "params";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsConsRecord()()(Payload_Server_Internal_OmitEmpty.removeEmptyFieldNil()(new Data_Symbol.IsSymbol(function () {
                                    return "query";
                                }))())(Payload_Server_Internal_OmitEmpty.omitEmptyFieldsNil))))))()(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "origin";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsCons(new Data_Symbol.IsSymbol(function () {
                                    return "userId";
                                }))()()()()(Payload_Server_Guards.toGuardValEitherResponseVal(Payload_Server_Response.encodeResponseString))(Payload_Server_Guards.runGuardsNil))))(Payload_Server_Routable.routableListNil)()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "login";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil)))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "user";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))()()()(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "api";
                                }))(Payload_Internal_UrlParsing.toSegmentsConsLit(new Data_Symbol.IsSymbol(function () {
                                    return "users";
                                }))(Payload_Internal_UrlParsing.toSegmentsUrlNil))))(Payload_Server_Routable.routableListNil)))))))(Server_Shell_Api_Interface_Spec.spec)(apiMock);
                                var h2 = mkHandle(withApi)(config);
                                return Test_Unit.suite("Tests")(Data_Foldable.traverse_(Control_Monad_Free.freeApplicative)(Data_Foldable.foldableArray)(runTestCase(h2))(ts));
                            })()))(function () {
                                return Test_Server_Shell_Persistence_Postgres.endPool(h1.persistence.pool);
                            });
                        });
                    });
                });
            });
        });
    });
}));
module.exports = {
    read: read,
    readOrThrow: readOrThrow,
    readBody: readBody,
    mkTestCase: mkTestCase,
    fakeAuthOrigin: fakeAuthOrigin,
    main: main,
    runTestCase: runTestCase,
    mkHandle: mkHandle
};
