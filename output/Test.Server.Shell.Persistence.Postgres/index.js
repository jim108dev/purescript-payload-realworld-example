// Generated by purs version 0.13.8
"use strict";
var Data_Foldable = require("../Data.Foldable/index.js");
var Data_Functor = require("../Data.Functor/index.js");
var Data_String_Common = require("../Data.String.Common/index.js");
var Database_Postgres = require("../Database.Postgres/index.js");
var Effect_Aff = require("../Effect.Aff/index.js");
var Effect_Class = require("../Effect.Class/index.js");
var Node_Encoding = require("../Node.Encoding/index.js");
var Node_FS_Aff = require("../Node.FS.Aff/index.js");
var resetDB = function (v) {
    return function (sqlStatements) {
        return Database_Postgres.withClient(v.value0)(function (conn) {
            return Data_Foldable.traverse_(Effect_Aff.applicativeAff)(Data_Foldable.foldableArray)(function (sql) {
                return Database_Postgres.execute_(sql)(conn);
            })(sqlStatements);
        });
    };
};
var readSqlStatements = (function () {
    var $7 = Data_Functor.map(Effect_Aff.functorAff)(Data_String_Common.split(";"));
    var $8 = Node_FS_Aff.readTextFile(Node_Encoding.UTF8.value);
    return function ($9) {
        return $7($8($9));
    };
})();
var endPool = function (v) {
    return Effect_Class.liftEffect(Effect_Aff.monadEffectAff)(Database_Postgres.end(v.value0));
};
module.exports = {
    resetDB: resetDB,
    endPool: endPool,
    readSqlStatements: readSqlStatements
};
